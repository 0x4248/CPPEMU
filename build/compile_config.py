if __name__ == "__main__":
    print("Compiling config file...")
    f = open(".config", "r")
    main = open("src/main.h", "w")
    main.write("//This file will be generated by the build system. If you want to change the default values run make config.\n")
    for line in f:
        if line.startswith("#"):
            continue
        if line.startswith("DEBUG_MODE ="):
            if line[6:].strip() == "y":
                main.write("#define DEBUG true\n")
            else:
                main.write("#define DEBUG false\n")
        if line.startswith("TRACE_MODE ="):
            if line[6:].strip() == "y":
                main.write("#define TRACE true\n")
            else:
                main.write("#define TRACE false\n")
        if line.startswith("VERSION ="):
            main.write("#define VERSION \"" + line[10:].strip() + "\"\n")
    print("Done compiling main.h")